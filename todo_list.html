<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–µ–Ω–µ–¥–∂–µ—Ä –ó–∞–¥–∞—á</title>
    <meta charset="UTF-8"> 
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f7f6; 
            color: #333;
            padding: 20px;
        }
        h2 { color: #3498db; text-align: center; margin-bottom: 20px; }

        .input-area {
            display: flex;
            margin-bottom: 30px;
            gap: 10px;
        }

        #taskInput {
            flex-grow: 1; /* –†–∞—Å—Ç—è–≥–∏–≤–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞ */
            padding: 12px;
            border: 2px solid #3498db;
            border-radius: 8px;
            font-size: 16px;
        }

        #addTaskBtn {
            padding: 10px 15px;
            background-color: #2ecc71; /* –ó–µ–ª–µ–Ω–∞—è –∫–Ω–æ–ø–∫–∞ */
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
        }

        #taskList {
            list-style: none; /* –£–±–∏—Ä–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã —Å–ø–∏—Å–∫–∞ */
            padding: 0;
        }

        #taskList li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #fff;
            border-radius: 8px;
            margin-bottom: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: background-color 0.3s;
        }

        .delete-btn {
            background: #e74c3c; /* –ö—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ */
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
        }
        
        .completed {
            text-decoration: line-through;
            background-color: #dcdde1; 
            color: #7f8c8d;
        }
    </style>
</head>
<body>

    <h2>üìã –ú–µ–Ω–µ–¥–∂–µ—Ä –ó–∞–¥–∞—á</h2>

    <div class="input-area">
        <input type="text" id="taskInput" placeholder="–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?">
        <button id="addTaskBtn" onclick="addTask()">–î–æ–±–∞–≤–∏—Ç—å</button>
    </div>

    <ul id="taskList">
        </ul>

<script>
    const taskList = document.getElementById('taskList');
    
    // --- –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò ---

    // 1. –ó–ê–ì–†–£–ó–ö–ê –ó–ê–î–ê–ß (–ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
    function loadTasks() {
        // –ü–æ–ª—É—á–∞–µ–º —Å—Ç—Ä–æ–∫—É —Å –∑–∞–¥–∞—á–∞–º–∏ –∏–∑ –ø–∞–º—è—Ç–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        const tasks = JSON.parse(localStorage.getItem('tasks')) || [];
        
        // –û—á–∏—â–∞–µ–º —Å–ø–∏—Å–æ–∫ –∏ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –∫–∞–∂–¥—É—é –∑–∞–¥–∞—á—É
        taskList.innerHTML = '';
        tasks.forEach(task => createTaskElement(task.text, task.completed));
    }
    
    // 2. –°–û–•–†–ê–ù–ï–ù–ò–ï –ó–ê–î–ê–ß (–≤ –ø–∞–º—è—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω–∞)
    function saveTasks() {
        const tasks = [];
        // –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É —Å–ø–∏—Å–∫–∞ (<li>)
        document.querySelectorAll('#taskList li').forEach(item => {
            tasks.push({
                text: item.querySelector('span').innerText,
                completed: item.classList.contains('completed')
            });
        });
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –º–∞—Å—Å–∏–≤ –∫–∞–∫ —Å—Ç—Ä–æ–∫—É –≤ localStorage
        localStorage.setItem('tasks', JSON.stringify(tasks));
    }

    // 3. –°–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∑–∞–¥–∞—á–∏ –≤ HTML
    function createTaskElement(taskText, isCompleted) {
        const listItem = document.createElement('li');
        
        // –¢–µ–∫—Å—Ç –∑–∞–¥–∞—á–∏
        const textSpan = document.createElement('span');
        textSpan.innerText = taskText;
        textSpan.onclick = () => toggleTask(listItem); // –ü—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–º–µ—á–∞–µ–º –∫–∞–∫ —Å–¥–µ–ª–∞–Ω–Ω—É—é
        
        // –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
        const deleteButton = document.createElement('button');
        deleteButton.innerText = '–£–¥–∞–ª–∏—Ç—å';
        deleteButton.classList.add('delete-btn');
        deleteButton.onclick = () => deleteTask(listItem);

        listItem.appendChild(textSpan);
        listItem.appendChild(deleteButton);

        if (isCompleted) {
            listItem.classList.add('completed');
        }

        taskList.appendChild(listItem);
    }
    
    // --- –õ–û–ì–ò–ö–ê –î–ï–ô–°–¢–í–ò–ô ---

    function addTask() {
        const input = document.getElementById('taskInput');
        const text = input.value.trim();

        if (text) {
            createTaskElement(text, false);
            input.value = ''; // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ
            saveTasks(); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ø–∞–º—è—Ç—å!
        }
    }

    function toggleTask(item) {
        item.classList.toggle('completed'); // –î–æ–±–∞–≤–ª—è–µ–º/—É–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å (–∑–∞—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ)
        saveTasks(); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    }

    function deleteTask(item) {
        taskList.removeChild(item); // –£–¥–∞–ª—è–µ–º –∏–∑ HTML
        saveTasks(); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ø–∞–º—è—Ç—å (–±–µ–∑ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞)
    }

    // --- –ó–ê–ü–£–°–ö ---
    // –í—ã–∑—ã–≤–∞–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    loadTasks();
</script>

</body>
</html>
