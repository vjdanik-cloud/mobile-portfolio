<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ—è –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #ecf0f1; /* –°–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π —Ñ–æ–Ω */
            color: #2c3e50;
            padding: 20px;
        }
        h2 { color: #3498db; margin-bottom: 30px; }

        .info-box {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 400px;
            text-align: center;
        }
        
        .status {
            font-weight: bold;
            margin-bottom: 20px;
            min-height: 40px;
        }
        
        .status.loading { color: #f39c12; } /* –û—Ä–∞–Ω–∂–µ–≤—ã–π */
        .status.success { color: #2ecc71; } /* –ó–µ–ª–µ–Ω—ã–π */
        .status.error { color: #e74c3c; }   /* –ö—Ä–∞—Å–Ω—ã–π */

        button {
            padding: 15px 30px;
            font-size: 18px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <h2>üìç –ì–¥–µ —è?</h2>
    
    <div class="info-box">
        <p class="status loading" id="statusMessage">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ.</p>

        <p>–®–∏—Ä–æ—Ç–∞: <span id="latitude">---</span></p>
        <p>–î–æ–ª–≥–æ—Ç–∞: <span id="longitude">---</span></p>
        <p>–¢–æ—á–Ω–æ—Å—Ç—å (–º–µ—Ç—Ä—ã): <span id="accuracy">---</span></p>
    </div>

    <button onclick="getLocation()">–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</button>

<script>
    function getLocation() {
        const status = document.getElementById('statusMessage');
        const lat = document.getElementById('latitude');
        const lon = document.getElementById('longitude');
        const acc = document.getElementById('accuracy');
        
        // 1. –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å: –ñ–¥–µ–º...
        status.innerText = '–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è...';
        status.className = 'status loading';
        lat.innerText = '---';
        lon.innerText = '---';
        acc.innerText = '---';

        if (navigator.geolocation) {
            // 2. –í—ã–∑—ã–≤–∞–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
            navigator.geolocation.getCurrentPosition(showPosition, showError, {
                enableHighAccuracy: true, // –í–∫–ª—é—á–∞–µ–º –≤—ã—Å–æ–∫—É—é —Ç–æ—á–Ω–æ—Å—Ç—å (—á–µ—Ä–µ–∑ GPS)
                timeout: 5000 // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è 5 —Å–µ–∫—É–Ω–¥
            });
        } else {
            // –ï—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é
            status.innerText = '–û—à–∏–±–∫–∞: –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é.';
            status.className = 'status error';
        }
    }

    // –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –£–°–ü–ï–®–ù–û–ú –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
    function showPosition(position) {
        document.getElementById('latitude').innerText = position.coords.latitude.toFixed(6);
        document.getElementById('longitude').innerText = position.coords.longitude.toFixed(6);
        document.getElementById('accuracy').innerText = position.coords.accuracy.toFixed(2);
        
        document.getElementById('statusMessage').innerText = '–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ!';
        document.getElementById('statusMessage').className = 'status success';
    }

    // –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –û–®–ò–ë–ö–ï
    function showError(error) {
        let errorMessage = '';
        switch(error.code) {
            case error.PERMISSION_DENIED:
                errorMessage = "‚ùå –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω. –†–∞–∑—Ä–µ—à–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ.";
                break;
            case error.POSITION_UNAVAILABLE:
                errorMessage = "‚ùå –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.";
                break;
            case error.TIMEOUT:
                errorMessage = "‚ùå –ò—Å—Ç–µ–∫–ª–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.";
                break;
            default:
                errorMessage = "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞.";
                break;
        }
        document.getElementById('statusMessage').innerText = errorMessage;
        document.getElementById('statusMessage').className = 'status error';
    }
</script>

</body>
</html>
